# Koza Ingest Template
# Based on monarch-project-copier patterns

project_name:
  type: str
  help: What is your project name? (e.g., xenbase-ingest)
  default: my-source-ingest

project_slug:
  type: str
  help: A slug of the name. Must be a valid Python package name.
  default: >-
    {% from pathjoin('includes', 'slugify.jinja') import slugify -%}
    {{ slugify(project_name) }}
  validator: >-
    {% if not (project_slug | regex_search('^[a-z][_a-z0-9\-]+$',
       ignorecase=False)) %}
    project_slug must start with a lowercase letter, followed by lowercase
    letters, digits, dashes or underscores.
    {% endif %}

email:
  help: Email address
  type: str
  default: my-name@my-org.org

full_name:
  help: Developer full name
  type: str
  default: My Name

github_org:
  help: Github user or organisation name
  type: str
  default: monarch-initiative

project_description:
  help: A short description of the project
  type: str
  default: Koza ingest for transforming data into Biolink model

license:
  help: Which license do you want for your project?
  type: str
  choices:
    - MIT
    - BSD-3-Clause
    - Apache-2.0
    - MPL-2.0
    - LGPL-3.0-only
    - GPL-3.0-only
  default: BSD-3-Clause

copyright_year:
  help: The year of the first release
  type: str
  default: "{% now 'utc', '%Y' %}"

author:
  help: The author in format "Full Name <email>"
  type: str
  default: "{{ full_name }} <{{ email }}>"
  when: false

github_handle:
  help: github username of the author
  type: str
  default: "{{ github_org }}"

# Copier configuration
_subdirectory: template
_min_copier_version: "9.4.0"
_jinja_extensions:
  - jinja2_time.TimeExtension
_exclude:
  - "copier.yaml"
  - "copier.yml"
  - "~*"
  - "*.py[co]"
  - "__pycache__"
  - ".git"

_skip_if_exists:
  - LICENSE
  - README.md

_message_after_copy: |

  ** INGEST PROJECT CREATED **

  Next steps:
  1. cd into your project directory
  2. Run "just setup" to initialize git and install dependencies
  3. Use the create-koza-ingest skill to add your first ingest
